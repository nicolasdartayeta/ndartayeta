---
interface Job {
  title: string;
  company: string;
  location: string;
  start: string;
  end?: string;
  description?: string;
  bullets: string[];
}

interface Props {
  items: Job[];
}

const { items } = Astro.props;
---

<section class="mb-12">
  <h2 class="text-[1.1rem] font-semibold tracking-[0.08em] uppercase text-muted mb-5">Experience</h2>
  <div class="flex flex-col gap-4">
    {items.map((job) => (
      <div class="glass p-6">
        <div class="flex items-start justify-between gap-4 flex-wrap mb-3">
          <div>
            <h3 class="text-base font-semibold text-accent mb-0.5">{job.title}</h3>
            <p class="text-[0.875rem] text-muted m-0">
              {job.company} &mdash; <span class="italic">{job.location}</span>
            </p>
          </div>
          <span class="text-[0.8rem] text-muted whitespace-nowrap shrink-0">
            {job.start} &ndash; {job.end ?? 'Present'}
          </span>
        </div>
        {job.description && (
          <p class="text-[0.9rem] leading-relaxed mb-2 mt-0">{job.description}</p>
        )}
        <ul class="m-0 pl-0 list-none flex flex-col gap-2">
          {job.bullets.map((b) => (
            <li class="text-[0.9rem] leading-relaxed flex items-start gap-2.5">
              <span class="inline-block w-1.5 h-1.5 rounded-full bg-terra shrink-0 mt-[6px]"></span>
              <span>{b}</span>
            </li>
          ))}
        </ul>
      </div>
    ))}
  </div>
</section>
